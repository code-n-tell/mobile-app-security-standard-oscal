<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>System and Control Implementation</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f4f4f4;
    }

    h1 {
      text-align: center;
    }

    .component {
      background-color: #fff;
      margin-bottom: 15px;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .component-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .component-title {
      font-size: 1.5em;
      margin-bottom: 10px;
      color: #333;
    }

    .component-description {
      font-size: 1.1em;
      color: #555;
      margin-top: 10px;
    }

    .control-list {
      margin-top: 10px;
    }

    .control-group {
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 10px;
      background-color: #fafafa;
    }

    .control-group-title {
      font-size: 1.2em;
      font-weight: bold;
      cursor: pointer;
    }

    .control {
      margin-bottom: 15px;
      margin-left: 10px;
    }

    .control-id {
      font-weight: bold;
      color: #555;
    }

    .control-title {
      font-style: italic;
      color: #777;
    }

    textarea.description-input {
      padding: 8px;
      width: 100%;
      resize: vertical;
      border-radius: 4px;
      border: 1px solid #ccc;
      margin-top: 5px;
    }

    #json-output {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #ccc;
      background-color: #fff;
      white-space: pre-wrap;
      word-wrap: break-word;
      display: none;
    }

    button {
      padding: 10px 20px;
      font-size: 1em;
      cursor: pointer;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      margin-top: 20px;
    }

    button:hover {
      background-color: #0056b3;
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 34px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: 0.4s;
      border-radius: 34px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 26px;
      width: 26px;
      border-radius: 50%;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: 0.4s;
    }

    input:checked + .slider {
      background-color: #4CAF50;
    }

    input:checked + .slider:before {
      transform: translateX(26px);
    }

    .slider-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 12px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>System and Control Implementations</h1>

  <div id="components-container"></div>

  <button id="show-json-btn">Show Updated JSON</button>

  <div id="json-output"></div>

  <script>
    const jsonData = {
      "system-security-plan": {
        "system-implementation": {
          "components": [
            {
              "uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19",
              "type": "this-system",
              "title": "sign-in",
              "description": "Sign-in allows users to securely access their accounts by entering valid credentials.",
              "status": {
                "state": "not-used"
              }
            },
            {
              "uuid": "1a39c0c2-aa03-4e39-8999-4f37b39eb59e",
              "type": "this-system",
              "title": "sign-out",
              "description": "Sign-out allows the user to securely log out of their account.",
              "status": {
                "state": "not-used"
              }
            },
            {
              "uuid": "f0bf0e6d-166a-4d97-bd20-291f3d936e11",
              "type": "this-system",
              "title": "update-transfer-funds-limit",
              "description": "Update transfer funds limit enables the user to modify their daily or per-transaction fund transfer limit.",
              "status": {
                "state": "not-used"
              }
            },
            {
              "uuid": "5eea2518-958e-4522-998c-7b1d3b8a443d",
              "type": "this-system",
              "title": "transfer-funds-overseas",
              "description": "Transfer funds overseas allows the user to send money to international recipients.",
              "status": {
                "state": "not-used"
              }
            },
            {
              "uuid": "cf41d645-8707-47d2-aeab-456548566620",
              "type": "this-system",
              "title": "transfer-funds",
              "description": "Transfer funds enables the user to move money between their own or other local bank accounts.",
              "status": {
                "state": "not-used"
              }
            }
          ]
        },
        "control-implementation": {
          "implemented-requirements": [
            { "control-id": "nsvhht7sd4", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "qcgx89zl5o", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "pqb0qi7okr", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "e48hmcjx1p", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "r6idjjby2a", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "qp7r18iubl", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "n2861v8xgq", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "6n8ee34tz8", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "ujgxs1ylyr", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "vjwjigrrpo", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "4q9digx63p", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "325uf1kfzj", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "0x198e8vuy", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "9h18cthtey", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "n7gjdkrytl", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "4l0cppfg5p", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "lmwapnb38v", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "x2povhu0jo", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "f1q7p58prw", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "bl2gotejhz", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "s8b8hh1wqg", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "8snpeem8r1", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "do2te6stqy", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "2miysqqq6z", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "9eeg5bi6ku", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "9rzlpdepse", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "xahj8w3kba", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "9jt0w5pepz", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "rnbhsdgmvo", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "2xyro2izqt", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "1eoqwjfldf", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "hnq68vjrbs", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "325uf1kfzj", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "0x198e8vuy", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "9h18cthtey", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "n7gjdkrytl", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "4l0cppfg5p", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "lmwapnb38v", "by-components": [{ "component-uuid": "1362a390-2d6c-43d4-bb80-deca4707bf19", "description": "REPLACE_ME" }] },
            { "control-id": "g4zvf2x0rc", "by-components": [{ "component-uuid": "1a39c0c2-aa03-4e39-8999-4f37b39eb59e", "description": "REPLACE_ME" }] },
            { "control-id": "9y77qgbmoj", "by-components": [{ "component-uuid": "1a39c0c2-aa03-4e39-8999-4f37b39eb59e", "description": "REPLACE_ME" }] },
            { "control-id": "me0bkcwqsx", "by-components": [{ "component-uuid": "1a39c0c2-aa03-4e39-8999-4f37b39eb59e", "description": "REPLACE_ME" }] },
            { "control-id": "f2h7bhxx0z", "by-components": [{ "component-uuid": "f0bf0e6d-166a-4d97-bd20-291f3d936e11", "description": "REPLACE_ME" }] },
            { "control-id": "o82iv8wxdp", "by-components": [{ "component-uuid": "5eea2518-958e-4522-998c-7b1d3b8a443d", "description": "REPLACE_ME" }] },
            { "control-id": "x4g767bab2", "by-components": [{ "component-uuid": "5eea2518-958e-4522-998c-7b1d3b8a443d", "description": "REPLACE_ME" }] },
            { "control-id": "0vhc3tna6r", "by-components": [{ "component-uuid": "cf41d645-8707-47d2-aeab-456548566620", "description": "REPLACE_ME" }] },
            { "control-id": "e5ihvr00jb", "by-components": [{ "component-uuid": "cf41d645-8707-47d2-aeab-456548566620", "description": "REPLACE_ME" }] },
            { "control-id": "lmrsjbzr9g", "by-components": [{ "component-uuid": "cf41d645-8707-47d2-aeab-456548566620", "description": "REPLACE_ME" }] },
            { "control-id": "wshnuhjap6", "by-components": [{ "component-uuid": "cf41d645-8707-47d2-aeab-456548566620", "description": "REPLACE_ME" }] }
          ]
        }
      },
      "catalog": {
        "groups": [
          {
            "id": "sign-in",
            "title": "Sign-in",
            "groups": [
              {
                "id": "component-01",
                "title": "Guest"
              },
              {
                "id": "component-02",
                "title": "Multi-factor authentication",
                "controls": [
                  { "id": "nsvhht7sd4", "title": "Ensure at least {2} authentication factors"}
                ]
              },
              {
                "id": "component-05",
                "title": "Password",
                "controls": [
                  { "id": "qcgx89zl5o", "title": "Ensure a minimum length of {12} characters" },
                  { "id": "pqb0qi7okr", "title": "Ensure a maximum length of {x} characters" },
                  { "id": "e48hmcjx1p", "title": "Disallow use of personal details, like {username, password}" },
                  { "id": "r6idjjby2a", "title": "Disallow sequential patterns like {123456}" },
                  { "id": "qp7r18iubl", "title": "Disallow repeated characters like {aaaaaa}" },
                  { "id": "n2861v8xgq", "title": "Disallow common passwords like {Qwerty123}" },
                  { "id": "6n8ee34tz8", "title": "Ensure credential is rotated every {365} days"}
                ]
              },
              {
                "id": "component-06",
                "title": "One-time password",
                "controls": [
                  { "id": "ujgxs1ylyr", "title": "Ensure a minimum length of {6} characters" },
                  { "id": "vjwjigrrpo", "title": "Ensure the credential is invalidated every {30} seconds" },
                  { "id": "4q9digx63p", "title": "Ensure the credential is invalidated every {3} consecutive incorrect inputs are received"}
                ]
              },
              {
                "id": "component-07",
                "title": "Biometrics",
                "controls": [
                  { "id": "325uf1kfzj", "title": "Ensure biometric operations occur within the deviceâ€™s {Secure Element}" },
                  { "id": "0x198e8vuy", "title": "Ensure biometric template never leaves the device" },
                  { "id": "9h18cthtey", "title": "Ensure hardware-backed keys tied to biometrics are invalidated on biometric changes"}
                ]
              },
              {
                "id": "component-08",
                "title": "Device location"
              },
              {
                "id": "component-09",
                "title": "Device type"
              },
              {
                "id": "component-10",
                "title": "Session id",
                "controls": [
                  { "id": "n7gjdkrytl", "title": "Disallow session ids that return HTTP response status code {401, 403}"},
                  { "id": "4l0cppfg5p", "title": "Ensure session ids are generated using cryptographically secure random number generator with a minimum of {n}-bits of entropy"},
                  { "id": "lmwapnb38v", "title": "Ensure session ids are transmitted through HTTP headers like {Authorization} or cookies with {HttpOnly, Secure} flags enabled"},
                  { "id": "x2povhu0jo", "title": "Ensure session ids are generated using cryptographically strong algorithm, like {SHA-256}"},
                  { "id": "f1q7p58prw", "title": "Ensure session ids are used over {HTTPs}"},
                  { "id": "bl2gotejhz", "title": "Disallow storing session ids in persistent storage, like {localStorage, sessionStorage}"},
                  { "id": "s8b8hh1wqg", "title": "Ensure valid session ids return HTTP response status code {200}"},
                ]
              },
              {
                "id": "component-11",
                "title": "JWT token",
                "controls": [
                  { "id": "8snpeem8r1", "title": "Disallow invalid tokens that return HTTP response status code {401, 403}"},
                  { "id": "do2te6stqy", "title": "Ensure tokens are transmitted through HTTP headers like {Authorization}"},
                  { "id": "2miysqqq6z", "title": "Ensure bearer authentication is used over {HTTPs}"},
                  { "id": "9eeg5bi6ku", "title": "Disallow the inclusion of sensitive data in a token, like {username, password}"},
                  { "id": "9rzlpdepse", "title": "Disallow storing tokens in persistent storage, like {localStorage, sessionStorage}"},
                  { "id": "xahj8w3kba", "title": "Ensure valid tokens return HTTP response status code {200}"},
                  { "id": "9jt0w5pepz", "title": "Ensure tokens are signed using cryptographically strong algorithm, like {HS256}"},
                  { "id": "rnbhsdgmvo", "title": "Disallow tokens signed using algorithm, like {none}"}
                ]
              },
              {
                "id": "component-12",
                "title": "Credential stuffing prevention - access control",
                "controls": [
                  { "id": "2xyro2izqt", "title": "Ensure account access is rate limited with {3} tries every {10} minutes"},
                  { "id": "1eoqwjfldf", "title": "Ensure account access is incrementally delayed after {3} consecutive incorrect attempts, with the delay increasing {base delay x multiplier ^ (attempt-1)} each time, capped at {1440} minutes"},
                  { "id": "hnq68vjrbs", "title": "Ensure account access is suspended after {3} consecutive incorrect attempts"}
                ]
              },
              {
                "id": "component-13",
                "title": "Anti-bot prevention - CAPTCHA"
              },
              {
                "id": "component-14",
                "title": "Error messages"
              }
            ]
          },
          {
            "id": "sign-out",
            "title": "Sign-out",
            "groups": [
              {
                "id": "component-01",
                "title": "Session id",
                "controls": [
                  { "id": "g4zvf2x0rc", "title": "Ensure user's session id is terminated and related data is invalidated after {n} seconds of logout / inactivity / app closure"},
                ]
              },
              {
                "id": "component-02",
                "title": "JWT token",
                "controls": [
                  { "id": "9y77qgbmoj", "title": "Ensure user's token is terminated and related data is invalidated after {n} seconds of logout / inactivity / app closure"},
                  { "id": "me0bkcwqsx", "title": "Ensure invalid tokens return HTTP response status code {401, 403}"}
                ]
              }
            ]
          },
          {
            "id": "update-transfer-funds-limit",
            "title": "Update transfer funds limit",
            "groups": [
              {
                "id": "component-01",
                "title": "Fraud detection",
                "controls": [
                  { "id": "f2h7bhxx0z", "title": "Ensure a {12} hours cooling-off period"}
                ]
              }
            ]
          },
          {
            "id": "transfer-funds-overseas",
            "title": "Transfer funds overseas",
            "groups": [
              {
                "id": "component-01",
                "title": "Fraud prevention",
                "controls": [
                  { "id": "o82iv8wxdp", "title": "Ensure overseas transfer is disabled by default"},
                  { "id": "x4g767bab2", "title": "Ensure overseas transfer is enabled through MFA"}
                ]
              }
            ]
          },
          {
            "id": "transfer-funds",
            "title": "Transfer funds",
            "groups": [
              {
                "id": "component-01",
                "title": "Session identifiers",
                "controls": [
                  { "id": "0vhc3tna6r", "title": "Ensure existing session identifier is replaced with a new session identifier after step-up authentication"},
                  { "id": "e5ihvr00jb", "title": "Ensure user's session is terminated after {n} seconds of inactivity"}
                ]
              },
              {
                "id": "component-02",
                "title": "Fraud prevention",
                "controls": [
                  { "id": "lmrsjbzr9g", "title": "Ensure a transaction exceeding ${n} is confirmed by user response within {n} seconds"}
                ]
              },
              {
                "id": "component-03",
                "title": "Transaction history",
                "controls": [
                  { "id": "wshnuhjap6", "title": "Ensure account balance is updated within {n} seconds of a transaction"}
                ]
              }
            ]
          }
        ]
      }
    };

    function findControlGroupTitle(data, controlId) {
      for (const group of data.catalog.groups) {
        for (const sub of group.groups) {
          if (sub.controls) {
            if (sub.controls.find(c => c.id === controlId)) {
              return sub.title;
            }
          }
        }
      }
      return null;
    }

    function findControlTitle(data, controlId) {
      for (const group of data.catalog.groups) {
        for (const sub of group.groups) {
          if (sub.controls) {
            const control = sub.controls.find(c => c.id === controlId);
            if (control) return control;
          }
        }
      }
      return null;
    }

    function renderComponents(data) {
      const container = document.getElementById('components-container');
      container.innerHTML = '';

      data['system-security-plan']['system-implementation']['components'].forEach(component => {
        const componentDiv = document.createElement('div');
        componentDiv.classList.add('component');

        const componentHeader = document.createElement('div');
        componentHeader.classList.add('component-header');
        componentHeader.innerHTML = `
          <div class="component-title"><strong>System Component:</strong> ${component.title}</div>
          <div>
            <label class="switch">
              <input type="checkbox" ${component.status.state === 'operational' ? 'checked' : ''} />
              <span class="slider">
                <span class="slider-text">${component.status.state === 'operational' ? 'in-use' : 'not-used'}</span>
              </span>
            </label>
          </div>
        `;
        componentDiv.appendChild(componentHeader);

        const componentDescription = document.createElement('div');
        componentDescription.classList.add('component-description');
        componentDescription.innerText = component.description;
        componentDiv.appendChild(componentDescription);

        const controlListDiv = document.createElement('div');
        controlListDiv.classList.add('control-list');

        // === GROUPED CONTROL DISPLAY ===
        const groupedControls = {};

        data['system-security-plan']['control-implementation']['implemented-requirements'].forEach(control => {
          control['by-components'].forEach(comp => {
            if (comp['component-uuid'] === component.uuid) {
              const groupTitle = findControlGroupTitle(data, control['control-id']) || 'Other';

              if (!groupedControls[groupTitle]) {
                groupedControls[groupTitle] = [];
              }

              groupedControls[groupTitle].push({
                id: control['control-id'],
                description: comp.description,
                title: findControlTitle(data, control['control-id'])?.title || ''
              });
            }
          });
        });

        Object.entries(groupedControls).forEach(([groupTitle, controls]) => {
          const details = document.createElement('details');
          details.classList.add('control-group');

          const summary = document.createElement('summary');
          summary.innerText = groupTitle;
          summary.classList.add('control-group-title');
          details.appendChild(summary);

          controls.forEach(ctrl => {
            const controlDiv = document.createElement('div');
            controlDiv.classList.add('control');

            controlDiv.innerHTML = `
              <p class="control-id">Control ID: ${ctrl.id}</p>
              <p class="control-title">Title: ${ctrl.title}</p>
              <label for="description-${ctrl.id}">Description:</label>
              <textarea id="description-${ctrl.id}" class="description-input" rows="3">${ctrl.description}</textarea>
            `;

            details.appendChild(controlDiv);
          });

          controlListDiv.appendChild(details);
        });

        componentDiv.appendChild(controlListDiv);
        container.appendChild(componentDiv);

        const switchInput = componentHeader.querySelector('input');
        const sliderText = componentHeader.querySelector('.slider-text');

        switchInput.addEventListener('change', () => {
          if (switchInput.checked) {
            controlListDiv.style.display = 'block';
            component.status.state = 'operational';
            sliderText.textContent = 'in-use';
          } else {
            controlListDiv.style.display = 'none';
            component.status.state = 'disposition';
            sliderText.textContent = 'not-used';
          }
        });

        // Initialize visibility
        if (component.status.state === 'operational') {
          controlListDiv.style.display = 'block';
        } else {
          controlListDiv.style.display = 'none';
        }
      });
    }

    function showUpdatedJson() {
      document.querySelectorAll('.description-input').forEach(input => {
        const id = input.id.replace('description-', '');
        const control = jsonData['system-security-plan']['control-implementation']['implemented-requirements'].find(c => c['control-id'] === id);
        if (control) {
          control['by-components'][0]['description'] = input.value;
        }
      });

      const output = document.getElementById('json-output');
      output.style.display = 'block';
      output.textContent = JSON.stringify(jsonData, null, 2);
    }

    document.getElementById('show-json-btn').addEventListener('click', showUpdatedJson);
    renderComponents(jsonData);
  </script>
</body>
</html>
